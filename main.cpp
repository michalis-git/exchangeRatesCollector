#include <QCoreApplication>
#include <QApplication>
#include <QString>
#include <QDebug>
#include "httprequest.h"

int main(int argc, char *argv[]) {
    QApplication a(argc, argv);

    QString api_key = "48de26090d21686a8db30b43dfe6a3e3";
    QString endpoint = "latest?";
    QString base = "base=EUR&";
    QString url = "https://api.currencyscoop.com/v1/";
    url.append(endpoint);
    url.append(base);
    url.append("api_key=" + api_key);
    qDebug() << url;

//    QString urlString = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20csv%20where%20url%3D%22http%3A%2F%2Fdownload.finance.yahoo.com%2Fd%2Fquotes.csv%3Fs%3DEURAED%3DX%2CEURAFN%3DX%2CEURALL%3DX%2CEURAMD%3DX%2CEURANG%3DX%2CEURAOA%3DX%2CEURARS%3DX%2CEURATS%3DX%2CEURAUD%3DX%2CEURAWG%3DX%2CEURAZN%3DX%2CEURBAM%3DX%2CEURBBD%3DX%2CEURBDT%3DX%2CEURBEF%3DX%2CEURBGN%3DX%2CEURBHD%3DX%2CEURBIF%3DX%2CEURBMD%3DX%2CEURBND%3DX%2CEURBOB%3DX%2CEURBRL%3DX%2CEURBSD%3DX%2CEURBTC%3DX%2CEURBTN%3DX%2CEURBWP%3DX%2CEURBYR%3DX%2CEURBZD%3DX%2CEURCAD%3DX%2CEURCDF%3DX%2CEURCHF%3DX%2CEURCLF%3DX%2CEURCLP%3DX%2CEURCNH%3DX%2CEURCNY%3DX%2CEURCOP%3DX%2CEURCRC%3DX%2CEURCUP%3DX%2CEURCVE%3DX%2CEURCYP%3DX%2CEURCZK%3DX%2CEURDEM%3DX%2CEURDJF%3DX%2CEURDKK%3DX%2CEURDOP%3DX%2CEURDZD%3DX%2CEUREEK%3DX%2CEUREGP%3DX%2CEURERN%3DX%2CEURESP%3DX%2CEURETB%3DX%2CEUREUR%3DX%2CEURFIM%3DX%2CEURFJD%3DX%2CEURFKP%3DX%2CEURFRF%3DX%2CEURGBP%3DX%2CEURGEL%3DX%2CEURGHS%3DX%2CEURGIP%3DX%2CEURGMD%3DX%2CEURGNF%3DX%2CEURGRD%3DX%2CEURGTQ%3DX%2CEURGYD%3DX%2CEURHKD%3DX%2CEURHNL%3DX%2CEURHRK%3DX%2CEURHTG%3DX%2CEURHUF%3DX%2CEURIDR%3DX%2CEURIEP%3DX%2CEURILS%3DX%2CEURINR%3DX%2CEURIQD%3DX%2CEURIRR%3DX%2CEURISK%3DX%2CEURITL%3DX%2CEURJEP%3DX%2CEURJMD%3DX%2CEURJOD%3DX%2CEURJPY%3DX%2CEURKES%3DX%2CEURKGS%3DX%2CEURKHR%3DX%2CEURKMF%3DX%2CEURKPW%3DX%2CEURKRW%3DX%2CEURKWD%3DX%2CEURKYD%3DX%2CEURKZT%3DX%2CEURLAK%3DX%2CEURLBP%3DX%2CEURLKR%3DX%2CEURLRD%3DX%2CEURLSL%3DX%2CEURLTL%3DX%2CEURLUF%3DX%2CEURLVL%3DX%2CEURLYD%3DX%2CEURMAD%3DX%2CEURMCF%3DX%2CEURMDL%3DX%2CEURMGA%3DX%2CEURMKD%3DX%2CEURMMK%3DX%2CEURMNT%3DX%2CEURMOP%3DX%2CEURMRO%3DX%2CEURMTL%3DX%2CEURMUR%3DX%2CEURMVR%3DX%2CEURMWK%3DX%2CEURMXN%3DX%2CEURMYR%3DX%2CEURMZN%3DX%2CEURNAD%3DX%2CEURNGN%3DX%2CEURNIO%3DX%2CEURNLG%3DX%2CEURNOK%3DX%2CEURNPR%3DX%2CEURNZD%3DX%2CEUROMR%3DX%2CEURPAB%3DX%2CEURPEN%3DX%2CEURPGK%3DX%2CEURPHP%3DX%2CEURPKR%3DX%2CEURPLN%3DX%2CEURPTE%3DX%2CEURPYG%3DX%2CEURQAR%3DX%2CEURRON%3DX%2CEURRSD%3DX%2CEURRUB%3DX%2CEURRWF%3DX%2CEURSAR%3DX%2CEURSBD%3DX%2CEURSCR%3DX%2CEURSDG%3DX%2CEURSEK%3DX%2CEURSGD%3DX%2CEURSHP%3DX%2CEURSIT%3DX%2CEURSKK%3DX%2CEURSLL%3DX%2CEURSML%3DX%2CEURSOS%3DX%2CEURSRD%3DX%2CEURSTD%3DX%2CEURSVC%3DX%2CEURSYP%3DX%2CEURSZL%3DX%2CEURTHB%3DX%2CEURTJS%3DX%2CEURTMT%3DX%2CEURTND%3DX%2CEURTOP%3DX%2CEURTRY%3DX%2CEURTTD%3DX%2CEURTWD%3DX%2CEURTZS%3DX%2CEURUAH%3DX%2CEURUGX%3DX%2CEURUSD%3DX%2CEURUYU%3DX%2CEURUZS%3DX%2CEURVAL%3DX%2CEURVEB%3DX%2CEURVEF%3DX%2CEURVND%3DX%2CEURVUV%3DX%2CEURWST%3DX%2CEURXAF%3DX%2CEURXAG%3DX%2CEURXAU%3DX%2CEURXCD%3DX%2CEURXCP%3DX%2CEURXDR%3DX%2CEURXOF%3DX%2CEURXPD%3DX%2CEURXPF%3DX%2CEURXPT%3DX%2CEURYER%3DX%2CEURZAR%3DX%2CEURZMK%3DX%2CEURZMW%3DX%2CEURZWL%3DX%26f%3Dsl1d1t1ban%26e%3D.csv%22%3B&format=json&diagnostics=true&callback=";
//    HttpRequest request(urlString, &a);
    HttpRequest request(url, &a);

//    qDebug() << "hello";
    return a.exec();
}
